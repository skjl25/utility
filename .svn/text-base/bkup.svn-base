char* TCPServerSocket::ReceiveData()
{
	int size=1000000;
	int size1=1000000;
	int flag=0;
//	int sizeOfBuffer=153600;
	int sizeOfBuffer=2457600;
	char* returnArray=new char[sizeOfBuffer];

	int totalByteReceived=0;
	while(flag==0)
	{
		char buf[size1];
		int bytes_recieved = recv(connected,buf,100,0);
//		printf("--------------------------%d\n",bytes_recieved);
		if(totalByteReceived<sizeOfBuffer && bytes_recieved>0)
		{
			memcpy(&returnArray[totalByteReceived],buf,bytes_recieved);
			totalByteReceived=totalByteReceived+bytes_recieved;
		}
//		else if(strcmp("\n",buf)==0)
		else if(bytes_recieved<=0)
		{
			printf("TCPServerSocket::ReceiveData() Total Byte Received:  %d\n",totalByteReceived);
			flag=1;
		}
	}
	return returnArray;

}

char* TCPServerSocket::ReceiveDataExt(char **sendBuffer)
{
	int size=1000;
	int size1=1000000;
	int flag=0;
//	int sizeOfBuffer=153600;
	int sizeOfBuffer=2457600;
	//char* returnArray=new char[sizeOfBuffer];

	int totalByteReceived=0;
	while(flag==0)
	{
		int bytes_recieved = recv(connected,*sendBuffer,size,0);
	//	printf("--------------------------%d\n",bytes_recieved);
		if(totalByteReceived<sizeOfBuffer && bytes_recieved>0)
		{
//			memcpy(*sendBuffer[totalByteReceived],buf,bytes_recieved);
//			int index=0;
//			for(int i=totalByteReceived;i<totalByteReceived+bytes_recieved;i++)
//			{
//				*sendBuffer[i]=buf[index];
//				index++;
//			}
//			index=0;

			totalByteReceived=totalByteReceived+bytes_recieved;
		}
		else if(bytes_recieved<=0)
		{
			printf("TCPServerSocket::ReceiveData() Total Byte Received:  %d\n",totalByteReceived);
			flag=1;
		}
	}
	//return returnArray;
	return NULL;

}
